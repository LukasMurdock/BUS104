<!DOCTYPE HTML>
<html>
<body>
 
<p>BUS 104 Homework 04</p>
<h1>Loan Calculator</h1>

<script type="text/javascript">
/*
Lukas Murdock
Section EA
*/

/*
  User input: Integer - Payment month
  Vars: payment month, loan amount, loan term, interest rate, monthly payment
  Loop: Check payment month is within 30-year term
  Loop: (deduct monthly payment from remaining loan amount)
  Write: “In month [paymentMonth], you will pay $[interestCalc] in interest
          and $[principal] towards principal. The remaining loan balance is $[loanAmount].
          The total mortgage cost so far has been $23583.40.”
*/

// Initialize variables
var paymentMonth=0,
    loanAmount=250000,
    loanTerm=30 * 12, // Multiply by 12 to turn from years to months
    interestRate=.039 / 12, // Divide by 12 to get monthly interest rate
    monthlyPayment=1179.17,
    monthInterest=0,
    total=0;

// Loop until User inputs valid month — not above the loan term or 0.
while (paymentMonth >= loanTerm || paymentMonth == 0){
  console.log("01");
  paymentMonth = Number(prompt("Enter payment month."));
}

// For every month up to payment month,
var i;
for (i = 0; i < paymentMonth; i++) {

  // Calculate how much goes towards principal
  applied = monthlyPayment - (loanAmount * interestRate)

  // Calculate the total
  total = total + monthlyPayment;
  
  // Calculate remaining loan amount
  loanAmount = loanAmount + (loanAmount * interestRate);
  loanAmount = loanAmount - monthlyPayment;
}

// Calculate interest for month
interest = monthlyPayment - applied;

// The extra code I added below inserts commas into thousands.
// All you need is:
/*
document.write("In month "+paymentMonth+", you will pay $"+interest.toFixed(2)+" and $"+applied.toFixed(2)+".<br>");
document.write("The remaining loan balance is $"+loanAmount.toFixed(2) + ".<br>");
document.write("The total mortgage cost so far has been $"+total.toFixed(2) + ".<br>");
*/

document.write("In month "+paymentMonth+", you will pay $"+interest.toFixed(2)+" and $"+applied.toFixed(2)+".<br>");
document.write("The remaining loan balance is $"+loanAmount.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",") + ".<br>");
document.write("The total mortgage cost so far has been $"+total.toFixed(2).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",") + ".<br>");


</script>

<!--Don't include this styling-->
<style>  
    body {
      font-family: -apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;
      margin: 40px auto;
      max-width: 571px;
    }
</style> 
<!--Don't include this styling-->
    
</body>
</html>